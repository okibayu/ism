<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
    <link src="img/favicon.png" rel="icon" />
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900' type='text/css'>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="vendor/font-awesome/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="vendor/owl.carousel/assets/owl.carousel.min.css" />
    <link rel="stylesheet" type="text/css" href="vendor/owl.carousel/assets/owl.theme.default.min.css" />
    <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" type="text/css" href="css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />

    <title>Index Train</title>
  </head>

  <body>
      
      <div id="root"></div>
      <script type="text/babel" data-plugins="transform-class-properties" src="index.js"></script>
      
      <!-- Scroll to top -->
      <a id="back-to-top" data-toggle="tooltip" title="" href="javascript:void(0)" data-original-title="Back to Top" style="display: inline;">
        <i class="fa fa-chevron-up"></i>
      </a>

      <!-- Script -->
      <script src="vendor/jquery/jquery.min.js"></script>
      <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
      <script src="vendor/owl.carousel/owl.carousel.min.js"></script> 
      <script src="vendor/bootstrap-spinner/bootstrap-spinner.js"></script> 
      <script src="vendor/daterangepicker/moment.min.js"></script> 
      <script src="vendor/daterangepicker/daterangepicker.js"></script> 
      <script>
      $(function() {
      'use strict';

        // Depart Date
        $('#flightDepart').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#flightDepart').val(chosen_date.format('MM-DD-YYYY'));
        });
        
        // Return Date
        $('#flightReturn').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#flightReturn').val(chosen_date.format('MM-DD-YYYY'));
        });
      
        // Hotels Check In Date
        $('#hotelsCheckIn').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#hotelsCheckIn').val(chosen_date.format('MM-DD-YYYY'));
        });
        
        // Hotels Check Out Date
        $('#hotelsCheckOut').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#hotelsCheckOut').val(chosen_date.format('MM-DD-YYYY'));
        });

        // Trains Depart Date
        $('#trainsDepart').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#trainsDepart').val(chosen_date.format('MM-DD-YYYY'));
        });
        
        // Trains Return Date
        $('#trainsReturn').daterangepicker({
        singleDatePicker: true,
        minDate: moment(),
        autoUpdateInput: false,
        }, function(chosen_date) {
        $('#trainsReturn').val(chosen_date.format('MM-DD-YYYY'));
        });

      // Flights
      $('#flightTravellersClass').on('click', function() {
          $('.travellers-dropdown').slideToggle('fast');
        /* Change value of Travellers and Class */
        $('.qty-spinner, .flight-class').on('change', function() {
          var ids = ['flightAdult', 'flightChildren', 'flightInfants'];
        var totalCount = ids.reduce(function (prev, id) {
          return parseInt($('#' + id + '-travellers').val()) + prev}, 0);
          var fc = $('input[name="flight-class"]:checked  + label').text();
          $('#flightTravellersClass').val(totalCount + ' - ' + fc);
      }).trigger('change');
      });
        
      // Hotels
      $('#hotelsTravellersClass').on('click', function() {
            $('.travellers-dropdown').slideToggle('fast');
          /* Change value of People */
          $('.qty-spinner').on('change', function() {
            var ids = ['adult', 'children'];
          var totalCount = ids.reduce(function (prev, id) {
            return parseInt($('#' + id + '-travellers').val()) + prev}, 0)+ ' ' +'People';
            
          var idsRoom = ['hotels-rooms'];
          var totalCountRoom = idsRoom.reduce(function (prev, id) {
            return parseInt($('#hotels-rooms').val()) + prev}, 0)+ ' ' +'Room';
          
            $('#hotelsTravellersClass').val(totalCountRoom + ' / ' + totalCount);
        }).trigger('change');
      });

      // Trains
      $('#trainTravellersClass').on('click', function() {
        $('.travellers-dropdown').slideToggle('fast');
        /* Change value of Travellers and Class */
        $('.qty-spinner, #train-class').on('change', function() {
        var ids = ['trainAdult', 'trainChildren', 'trainInfants'];
        var totalCount = ids.reduce(function (prev, id) {
          return parseInt($('#' + id + '-travellers').val()) + prev}, 0);
        var fc = $('#train-class option:selected').text();
        
        $('#trainTravellersClass').val(totalCount + ' - ' + fc);
        }).trigger('change');
      });
        
      // Hide dropdown
      $(document).on('click', function(event) {
      if (!$(event.target).closest(".travellers-class").length) {
          $(".travellers-dropdown").hide();
      }

      /* Hide dropdown when clicking on Done Button */
        $('.submit-done').on('click', function() {
            $('.travellers-dropdown').fadeOut(function() {
                $(this).hide();
            });
        });

        /*-- tooltips -- */
        $('[data-toggle=\'tooltip\']').tooltip({container: 'body'});

        /*-- Scroll to top -- */
        $(function () {
          $(window).on('scroll', function(){
            if ($(this).scrollTop() > 150) {
              $('#back-to-top').fadeIn();
            } else {
              $('#back-to-top').fadeOut();
            }
          });
        });

        $('#back-to-top').on("click", function() {
          $('html, body').animate({scrollTop:0}, 'slow');
          return false;
        });

        $('.smooth-scroll a').on("click", function() {
            var sectionTo = $(this).attr('href');
            $('html, body').animate({
              scrollTop: $(sectionTo).offset().top - 50}, 600);
        });

      });
    });
      </script>      
  </body>
</html>